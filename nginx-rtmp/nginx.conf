rtmp {
    server {
        listen 1935; # RTMP listening port

        application live {
            live on; # Enable live streaming
            record off; # Disable recording

            # HLS settings
            hls on;
            hls_path /tmp/hls; # Temporary local storage
            hls_fragment 3s;
            hls_playlist_length 60s;

            # HLS URL prefix to make it accessible via HTTP
            hls_base_url http://localhost:8080/hls/; # Replace with your Minio access URL
        }
    }
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    server {
        listen 8080;
        server_name localhost;

        location /hls/ {
            root /tmp; # Serve the HLS segments locally (you'll later move them to Minio)
        }
    }
}
